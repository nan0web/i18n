# @nan0web/i18n

–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π, –±–µ–∑–∑–∞–ª–µ–∂–Ω–∏–π i18n‚Äë–ø–æ–º—ñ—á–Ω–∏–∫ –¥–ª—è –ø—Ä–æ—î–∫—Ç—ñ–≤ –Ω–∞ JavaScript.
–ù–∞–¥–∞—î —Å–ª–æ–≤–Ω–∏–∫ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é —Ç–∞ –ø—Ä–æ—Å—Ç—É —Ñ–∞–±—Ä–∏–∫—É `createT` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –ø–µ—Ä–µ–∫–ª–∞–¥—É –±—É–¥—å‚Äë—è–∫–æ—é –º–æ–≤–æ—é.

|[Status](https://github.com/nan0web/monorepo/blob/main/system.md#–Ω–∞–ø–∏—Å–∞–Ω–Ω—è-—Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤)|Documentation|Test coverage|Features|Npm version|
|---|---|---|---|---|
|üü¢ `99.7%`|üß™ [English üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø](https://github.com/nan0web/i18n/blob/main/README.md)<br />[–£–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é üá∫üá¶](https://github.com/nan0web/i18n/blob/main/docs/uk/README.md)|üü¢ `100.0%`|‚úÖ d.ts üìú system.md üïπÔ∏è playground|‚Äî|

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é npm?
```bash
npm install @nan0web/i18n
```

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é pnpm?
```bash
pnpm add @nan0web/i18n
```

–Ø–∫ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é yarn?
```bash
yarn add @nan0web/i18n
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º –ª–æ–∫–∞–ª—ñ

–Ø–∫ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∫—ñ–ª—å–∫–æ–º–∞ —Å–ª–æ–≤–Ω–∏–∫–∞–º–∏?
```js
import { i18n, createT } from "@nan0web/i18n"

const en = { "Welcome!": "Welcome, {name}!" }
const uk = { "Welcome!": "–í—ñ—Ç–∞—é, {name}!" }
const ukRU = { "Welcome!": "–ü—Ä–∏–≤—ñ—Ç, {name}!" }
const ukCA = { "Welcome!": "–í—ñ—Ç–∞—î–º–æ, {name}!" }

const getVocab = i18n({ en, uk, 'uk-RU': ukRU, 'uk-CA': ukCA })

let t = createT(getVocab('en', en))
console.info(t('Welcome!', { name: 'Alice' })) // ‚Üê "Welcome, Alice!"

t = createT(getVocab('uk', en))
console.info(t('Welcome!', { name: '–ë–æ–≥–¥–∞–Ω' })) // ‚Üê "–í—ñ—Ç–∞—é, –ë–æ–≥–¥–∞–Ω!"

t = createT(getVocab('uk-RU', en))
console.info(t('Welcome!', { name: '–°–∞—à–∞' })) // ‚Üê "–ü—Ä–∏–≤—ñ—Ç, –°–∞—à–∞!"

t = createT(getVocab('uk-CA', en))
console.info(t('Welcome!', { name: '–ú–∞—Ä—ñ—è' })) // ‚Üê "–í—ñ—Ç–∞—î–º–æ, –ú–∞—Ä—ñ—è!"

t = createT(getVocab('unknown', en))
console.info(t('Welcome!', { name: 'Fallback' })) // ‚Üê "Welcome, Fallback!"
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

–Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–∏, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –ë–î, –∑ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∏–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –∫–ª–∞—Å `I18nDb`?
```js
import DB from "@nan0web/db"
import { I18nDb } from "@nan0web/i18n"
// –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –±—É–¥—å‚Äë—è–∫–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è "@nan0web/db"
const db = new DB({
  predefined: new Map([
    ['data/uk/_/t.json', { 'Welcome!': '–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!', 'Home': '–î—ñ–º' }],
    ['data/uk/apps/topup-tel/_/t.json', { 'Top-up Telephone': '–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ–ª–µ—Ñ–æ–Ω—É', 'Home': '–ì–æ–ª–æ–≤–Ω–∞' }]
  ])
})
await db.connect()
const i18n = new I18nDb({ db, locale: 'uk', tPath: '_/t.json', dataDir: "data" })
const t = await i18n.createT('uk', 'apps/topup-tel')

console.info(t('Top-up Telephone')) // ‚Üê "–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ–ª–µ—Ñ–æ–Ω—É"
console.info(t('Welcome!')) // ‚Üê "–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!" (—É—Å–ø–∞–¥–∫–æ–≤–∞–Ω–æ)
console.info(t('Home')) // ‚Üê "–ì–æ–ª–æ–≤–Ω–∞" (–ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —É—Å–ø–∞–¥–∫–æ–≤–∞–Ω–∏–º)
```

## –í–∏–¥–æ–±—É–≤–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤

–Ø–∫ –≤–∏–¥–æ–±—É—Ç–∏ –∫–ª—é—á—ñ –ø–µ—Ä–µ–∫–ª–∞–¥—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑ –≤–∞—à–æ–≥–æ –∫–æ–¥—É?
```js
const content = `
console.log(t("Hello, {name}!"))
const menu = ["First", "Second"] // t("First"), t("Second")
`
const keys = extract(content)
console.info(keys) // ‚Üê ["First", "Hello, {name}!", "Second"]
```

## API

### `createT(vocab)`
–°—Ç–≤–æ—Ä—é—î —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ–∫–ª–∞–¥—É, –ø—Ä–∏–≤‚Äô—è–∑–∞–Ω—É –¥–æ –ø–µ—Ä–µ–¥–∞–Ω–æ–≥–æ —Å–ª–æ–≤–Ω–∏–∫–∞.

* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏**
  * `vocab` ‚Äì –æ–±‚Äô—î–∫—Ç, —è–∫–∏–π –º–∞–ø–∏—Ç—å –∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ –∫–ª—é—á—ñ –Ω–∞ –ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä—è–¥–∫–∏.

* **–ü–æ–≤–µ—Ä—Ç–∞—î**
  * `function t(key, vars?)` ‚Äì —Ñ—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–∫–ª–∞–¥—É.

#### –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–∫–ª–∞–¥—É `t(key, vars?)`
* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏**
  * `key` ‚Äì –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Ä—è–¥–æ–∫.
  * `vars` ‚Äì (–Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ) –æ–±‚Äô—î–∫—Ç –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫, –Ω–∞–ø—Ä. `{ name: 'John' }`.
* **–ü–æ–≤–µ–¥—ñ–Ω–∫–∞**
  * –®—É–∫–∞—î `key` —É —Å–ª–æ–≤–Ω–∏–∫—É.
  * –Ø–∫—â–æ –∫–ª—é—á –≤—ñ–¥—Å—É—Ç–Ω—ñ–π ‚Äì –ø–æ–≤–µ—Ä—Ç–∞—î —Å–∞–º `key`.
  * –ó–∞–º—ñ–Ω—é—î —à–∞–±–ª–æ–Ω–∏ –≤–∏–¥—É `{placeholder}` –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `vars`.

### `i18n(mapLike)`
–£—Ç–∏–ª—ñ—Ç–∞ –¥–ª—è –≤–∏–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–Ω–∏–∫–∞ –∑–∞ –ª–æ–∫–∞–ª–ª—é.

* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏**
  * `mapLike` ‚Äì –æ–±‚Äô—î–∫—Ç, —â–æ –º—ñ—Å—Ç–∏—Ç—å –º–∞–ø—É–≤–∞–Ω–Ω—è –ª–æ–∫–∞–ª–µ–π.

* **–ü–æ–≤–µ—Ä—Ç–∞—î**
  * —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –ø—Ä–∏–π–º–∞—î —Ä—è–¥–æ–∫ –ª–æ–∫–∞–ª—ñ —Ç–∞ –Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏–π —Å–ª–æ–≤–Ω–∏–∫‚Äë–∑–∞‚Äë–∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º.

## CLI –ü–µ—Å–æ—á–Ω–∏—Ü—è

–Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ CLI‚Äë–ø–µ—Å–æ—á–Ω–∏—Ü—é, —â–æ–± –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –±—ñ–±–ª—ñ–æ—Ç–µ–∫—É –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ?
```bash
# –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ CLI‚Äë–ø–µ—Å–æ—á–Ω–∏—Ü—é
git clone https://github.com/nan0web/i18n.git
cd i18n
npm install
npm run play
```

## JavaScript

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `d.ts` –¥–ª—è –∞–≤—Ç–æ–¥–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–∏–ø—ñ–≤.

## –í–Ω–µ—Å–∫–∏

–Ø–∫ –∑—Ä–æ–±–∏—Ç–∏ –≤–Ω–µ—Å–æ–∫? - [–ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ —Ç—É—Ç](./CONTRIBUTING.md)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

–Ø–∫ –ª—ñ—Ü–µ–Ω–∑—É–≤–∞—Ç–∏? - —Ñ–∞–π–ª [ISC LICENSE](./LICENSE) —Ñ–∞–π–ª—É.
