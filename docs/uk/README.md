# @nan0web/i18n

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —É —ñ–Ω—à–∏—Ö –º–æ–≤–∞—Ö:
- [English üè¥Û†ÅßÛ†Å¢Û†Å•Û†ÅÆÛ†ÅßÛ†Åø](../../README.md)

–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π, –Ω—É–ª—å-–∑–∞–ª–µ–∂–Ω–∏–π i18n –ø–æ–º—ñ—á–Ω–∏–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç—ñ–≤ –Ω–∞ Java‚Ä¢Script.
–í—ñ–Ω –Ω–∞–¥–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Å–ª–æ–≤–Ω–∏–∫ —Ç–∞ –ø—Ä–æ—Å—Ç—É —Ñ–∞–±—Ä–∏–∫—É `createT` –¥–ª—è
—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π –ø–µ—Ä–µ–∫–ª–∞–¥—É –±—É–¥—å-—è–∫–æ—é –º–æ–≤–æ—é.

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
```bash
npm install @nan0web/i18n
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º –ª–æ–∫–∞–ª—ñ

–î–ª—è –æ–±—Ä–æ–±–∫–∏ –∫—ñ–ª—å–∫–æ—Ö —Å–ª–æ–≤–Ω–∏–∫—ñ–≤, –º–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—á —Å–ª–æ–≤–Ω–∏–∫–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —É—Ç–∏–ª—ñ—Ç–∏ `i18n`:
```js
import { i18n, createT } from "@nan0web/i18n"

const en = { "Welcome!": "Welcome, {name}!" }
const uk = { "Welcome!": "–í—ñ—Ç–∞—é, {name}!" }
const ukRU = { "Welcome!": "–ü—Ä–∏–≤—ñ—Ç, {name}!" }
const ukCA = { "Welcome!": "–í—ñ—Ç–∞—î–º–æ, {name}!" }

const getVocab = i18n({ en, uk, 'uk-RU': ukRU, 'uk-CA': ukCA })

let t = createT(getVocab('en', en))
console.info(t('Welcome!', { name: 'Alice' })) // ‚Üê "Welcome, Alice!"

t = createT(getVocab('uk', en))
console.info(t('Welcome!', { name: '–ë–æ–≥–¥–∞–Ω' })) // ‚Üê "–í—ñ—Ç–∞—é, –ë–æ–≥–¥–∞–Ω!"

t = createT(getVocab('uk-RU', en))
console.info(t('Welcome!', { name: '–°–∞—à–∞' })) // ‚Üê "–ü—Ä–∏–≤—ñ—Ç, –°–∞—à–∞!"

t = createT(getVocab('uk-CA', en))
console.info(t('Welcome!', { name: '–ú–∞—Ä—ñ—è' })) // ‚Üê "–í—ñ—Ç–∞—î–º–æ, –ú–∞—Ä—ñ—è!"

t = createT(getVocab('unknown', en))
console.info(t('Welcome!', { name: 'Fallback' })) // ‚Üê "Welcome, Fallback!"
```
## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö

–î–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤, —â–æ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –±–∞–∑—ñ –¥–∞–Ω–∏—Ö, –∑ —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–∏–º –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–ª–∞—Å `I18nDb`:
```js
import { MemoryDB } from "@nan0web/test"
import { I18nDb } from "@nan0web/i18n"
// –ú–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫–µ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è "@nan0web/db"
const db = new MemoryDB({
  predefined: new Map([
    ['data/uk/_/t.json', { 'Welcome!': '–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!', 'Home': '–î—ñ–º' }],
    ['data/uk/apps/topup-tel/_/t.json', { 'Top-up Telephone': '–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ–ª–µ—Ñ–æ–Ω—É', 'Home': '–ì–æ–ª–æ–≤–Ω–∞' }]
  ])
})
await db.connect()
const i18n = new I18nDb({ db, locale: 'uk', tPath: '_/t.json', dataDir: "data" })
const t = await i18n.createT('uk', 'apps/topup-tel')

console.info(t('Top-up Telephone')) // ‚Üê "–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ç–µ–ª–µ—Ñ–æ–Ω—É"
console.info(t('Welcome!')) // ‚Üê "–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ!" (—É—Å–ø–∞–¥–∫–æ–≤–∞–Ω–æ)
console.info(t('Home')) // ‚Üê "–ì–æ–ª–æ–≤–Ω–∞" (–º–∞—î –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–¥ —É—Å–ø–∞–¥–∫–æ–≤–∞–Ω–∏–º)
```
## –í–∏–¥–æ–±—É–≤–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–∏—Ö —Å–ª—ñ–≤

–¢–∞–∫–æ–∂ –º–æ–∂–Ω–∞ –≤–∏–¥–æ–±—É—Ç–∏ –∫–ª—é—á—ñ –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑ –∫–æ–¥—É:
```js
const content = `
console.log(t("Hello, {name}!"))
const menu = ["First", "Second"] // t("First"), t("Second")
`
const keys = extract(content)
console.info(keys) // ‚Üê ["First", "Hello, {name}!", "Second"]
```
## API

### `createT(vocab)`
–°—Ç–≤–æ—Ä—é—î —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ–∫–ª–∞–¥—É, –ø—Ä–∏–≤'—è–∑–∞–Ω—É –¥–æ –Ω–∞–¥–∞–Ω–æ–≥–æ —Å–ª–æ–≤–Ω–∏–∫–∞.

* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏**
  * `vocab` ‚Äì –æ–±'—î–∫—Ç –∑ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏—Ö –∫–ª—é—á—ñ–≤ –Ω–∞ –ª–æ–∫–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ä—è–¥–∫–∏.

* **–ü–æ–≤–µ—Ä—Ç–∞—î**
  * `function t(key, vars?)` ‚Äì —Ñ—É–Ω–∫—Ü—ñ—é –ø–µ—Ä–µ–∫–ª–∞–¥—É.

#### –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–∫–ª–∞–¥—É `t(key, vars?)`
* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏**
  * `key` ‚Äì –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∞–Ω–≥–ª—ñ–π—Å—å–∫–∏–π —Ä—è–¥–æ–∫.
  * `vars` ‚Äì (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ) –æ–±'—î–∫—Ç –∑—ñ –∑–Ω–∞—á–µ–Ω–Ω—è–º–∏ –∑–∞–ø–æ–≤–Ω—é–≤–∞—á—ñ–≤, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `{ name: 'John' }`.
* **–ü–æ–≤–µ–¥—ñ–Ω–∫–∞**
  * –®—É–∫–∞—î `key` —É –Ω–∞–¥–∞–Ω–æ–º—É —Å–ª–æ–≤–Ω–∏–∫—É.
  * –Ø–∫—â–æ –∫–ª—é—á –≤—ñ–¥—Å—É—Ç–Ω—ñ–π ‚Äì –ø–æ–≤–µ—Ä—Ç–∞—î –ø–æ—á–∞—Ç–∫–æ–≤–∏–π `key`.
  * –ó–∞–º—ñ–Ω—é—î –∑–∞–ø–æ–≤–Ω—é–≤–∞—á—ñ —Ñ–æ—Ä–º–∏ `{–∑–∞–ø–æ–≤–Ω—é–≤–∞—á}` –Ω–∞ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `vars`.

### `i18n(mapLike)`
–£—Ç–∏–ª—ñ—Ç–∞ –¥–ª—è –≤–∏–±–æ—Ä—É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ —Å–ª–æ–≤–Ω–∏–∫–∞ –∑–∞ –ª–æ–∫–∞–ª–ª—é.

* **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏**
  * `mapLike` ‚Äì –æ–±'—î–∫—Ç, —â–æ –º—ñ—Å—Ç–∏—Ç—å –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ª–æ–∫–∞–ª–µ–π.

* **–ü–æ–≤–µ—Ä—Ç–∞—î**
  * —Ñ—É–Ω–∫—Ü—ñ—é, —è–∫–∞ –ø—Ä–∏–π–º–∞—î —Ä—è–¥–æ–∫ –ª–æ–∫–∞–ª—ñ —Ç–∞ –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —Å–ª–æ–≤–Ω–∏–∫.

## CLI –ü–µ—Å–æ—á–Ω–∏—Ü—è

–¢–∞–∫–æ–∂ —ñ—Å–Ω—É—î CLI –ø–µ—Å–æ—á–Ω–∏—Ü—è –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤–∏–ø—Ä–æ–±—É–≤–∞–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:
```bash
# –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π —Ç–∞ –∑–∞–ø—É—Å—Ç—ñ—Ç—å CLI –ø–µ—Å–æ—á–Ω–∏—Ü—é
git clone https://github.com/nan0web/i18n.git
cd i18n
npm install
npm run playground
```

## Java‚Ä¢Script

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `d.ts` –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è.

## –í–Ω–µ—Å–∫–∏

–ì–æ—Ç–æ–≤—ñ –∑—Ä–æ–±–∏—Ç–∏ –≤–Ω–µ—Å–æ–∫? [–î–∏–≤—ñ—Ç—å—Å—è —Ç—É—Ç](../../CONTRIBUTING.md)

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

ISC ‚Äì –¥–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª [LICENSE](../../LICENSE).
